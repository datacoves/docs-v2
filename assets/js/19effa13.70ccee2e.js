"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6811],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(96540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},31552:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/launchpad_environments_projects-142ffa6161de8bc421c79df53dbb311c.png"},94990:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"reference/airflow/airflow-config-defaults","title":"Airflow Config Defaults","description":"For security reasons, we do not expose the Airflow config to end users via the Airflow *Admin -> Configuration menu option.","source":"@site/docs/reference/airflow/airflow-config-defaults.md","sourceDirName":"reference/airflow","slug":"/reference/airflow/airflow-config-defaults","permalink":"/docusaurus-test/docs/reference/airflow/airflow-config-defaults","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/airflow/airflow-config-defaults.md","tags":[],"version":"current","sidebarPosition":122,"frontMatter":{"title":"Airflow Config Defaults","sidebar_position":122},"sidebar":"tutorialSidebar","previous":{"title":"Airflow Best Practices","permalink":"/docusaurus-test/docs/reference/airflow/airflow-best-practices"},"next":{"title":"Airflow Variables","permalink":"/docusaurus-test/docs/reference/airflow/airflow-variables"}}');var s=r(74848),i=r(28453);const o={title:"Airflow Config Defaults",sidebar_position:122},a="Airflow Config Defaults",c={},l=[];function _(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"airflow-config-defaults",children:"Airflow Config Defaults"})}),"\n",(0,s.jsxs)(n.p,{children:["For security reasons, we do not expose the Airflow config to end users via the ",(0,s.jsx)(n.code,{children:"Airflow *Admin -> Configuration"})," menu option."]}),"\n",(0,s.jsx)(n.p,{children:"Below are some of the configs that we use which you may find useful:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[celery]\nworker_concurrency = 16\nworker_prefetch_multiplier = 1\noperation_timeout = 1.0\ntask_adoption_timeout = 600\nstalled_task_timeout = 0\ntask_publish_max_retries = 3\n\n[celery_kubernetes_executor]\nkubernetes_queue = kubernetes\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[core]\nexecutor = KubernetesExecutor\ndefault_timezone = utc\nparallelism = 32\nmax_active_tasks_per_dag = 16\ndags_are_paused_at_creation = True\nmax_active_runs_per_dag = 16\ndagbag_import_timeout = 300\ndag_file_processor_timeout = 180\ntask_runner = StandardTaskRunner\nkilled_task_cleanup_time = 60\ndefault_task_retries = 2\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[database]\nmax_db_retries = 3\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[email]\ndefault_email_on_retry = True\ndefault_email_on_failure = True\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[kubernetes]\nworker_pods_pending_timeout = 600\nworker_pods_pending_timeout_check_interval = 120\nworker_pods_queued_check_interval = 60\nworker_pods_pending_timeout_batch_size = 100\n\n[kubernetes_environment_variables]\nAIRFLOW__CORE__DEFAULT_TASK_RETRIES = 2\nAIRFLOW__CORE__DAGBAG_IMPORT_TIMEOUT = 300\nAIRFLOW__SCHEDULER__MIN_FILE_PROCESS_INTERVAL = 180\nAIRFLOW__CORE__DAG_FILE_PROCESSOR_TIMEOUT = 180\nAIRFLOW__KUBERNETES__WORKER_PODS_PENDING_TIMEOUT = 600\nAIRFLOW__SCHEDULER__PARSING_PROCESSES = 1\nAIRFLOW__SCHEDULER__MAX_DAGRUNS_PER_LOOP_TO_SCHEDULE = 20\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[scheduler]\nrun_duration = 41460\njob_heartbeat_sec = 5\nscheduler_heartbeat_sec = 5\nnum_runs = -1\nscheduler_idle_sleep_time = 1\nmin_file_process_interval = 180\ndeactivate_stale_dags_interval = 60\ndag_dir_list_interval = 300\nprint_stats_interval = 30\npool_metrics_interval = 5.0\nscheduler_health_check_threshold = 30\norphaned_tasks_check_interval = 300.0\nscheduler_zombie_task_threshold = 300\nzombie_detection_interval = 10.0\nparsing_processes = 1\ntrigger_timeout_check_interval = 15\nrun_duration = 41460\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[sensors]\ndefault_timeout = 604800\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[smtp]\nsmtp_timeout = 30\nsmtp_retry_limit = 5\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[webserver]\ndefault_ui_timezone = utc\nworker_refresh_interval = 6000\nlog_fetch_timeout_sec = 5\nlog_fetch_delay_sec = 2\nlog_auto_tailing_offset = 30\ndefault_dag_run_display_number = 25\nauto_refresh_interval = 3\n"})}),"\n",(0,s.jsx)(n.h1,{id:"airflow-environment-variables",children:"Airflow Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"Datacoves injects environment variables into Airflow."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DATACOVES__DAGS_FOLDER"}),": The folder where Airflow will look for DAGs. This is defined when you set your ",(0,s.jsx)(n.code,{children:"python DAGs path"})," in the ",(0,s.jsx)(n.a,{href:"/docusaurus-test/docs/how-tos/datacoves/how_to_environments#services-configuration",children:"environment setup"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DATACOVES__ENVIRONMENT_SLUG"}),": The slug for your environment. This is randomly generated upon creation of the environment."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"The development slug can be seen on the launchpad screen:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"https://dev123.datacoves.localhost"})," in this case ",(0,s.jsx)(n.code,{children:"DATACOVES__ENVIRONMENT_SLUG=dev123"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Launch Pad",src:r(31552).A+"",width:"1070",height:"688"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["If you have any questions, please send us an email at ",(0,s.jsx)(n.a,{href:"mailto:support@datacoves.com",children:"support@datacoves.com"})]})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(_,{...e})}):_(e)}}}]);