"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1971],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var s=i(96540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},34463:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"how-tos/dbt/runtime-errors","title":"Runtime Errors","description":"Runtime errors occur when your dbt project setup is incorrect. These errors typically happen during initial project setup but are less common once your project is properly configured.","source":"@site/docs/how-tos/dbt/runtime-errors.md","sourceDirName":"how-tos/dbt","slug":"/how-tos/dbt/runtime-errors","permalink":"/docusaurus-test/docs/how-tos/dbt/runtime-errors","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/how-tos/dbt/runtime-errors.md","tags":[],"version":"current","sidebarPosition":69,"frontMatter":{"title":"Runtime Errors","sidebar_position":69},"sidebar":"tutorialSidebar","previous":{"title":"Dependency Errors","permalink":"/docusaurus-test/docs/how-tos/dbt/dependency-errors"},"next":{"title":"Git","permalink":"/docusaurus-test/docs/how-tos/git/"}}');var r=i(74848),t=i(28453);const o={title:"Runtime Errors",sidebar_position:69},c="How to Fix dbt Runtime Errors",l={},d=[{value:"Common Symptoms",id:"common-symptoms",level:2},{value:"Solution Steps",id:"solution-steps",level:2},{value:"Run dbt Debug",id:"run-dbt-debug",level:3},{value:"Verify Project Location",id:"verify-project-location",level:3},{value:"Check Profiles Configuration",id:"check-profiles-configuration",level:3},{value:"Verify Database Permissions",id:"verify-database-permissions",level:3},{value:"Clear dbt Cache and Packages",id:"clear-dbt-cache-and-packages",level:3},{value:"Handle Package Installation Issues",id:"handle-package-installation-issues",level:3},{value:"Common Error Messages",id:"common-error-messages",level:2},{value:"CI/CD Environment Issues",id:"cicd-environment-issues",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Prevention Tips",id:"prevention-tips",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"how-to-fix-dbt-runtime-errors",children:"How to Fix dbt Runtime Errors"})}),"\n",(0,r.jsx)(n.p,{children:"Runtime errors occur when your dbt project setup is incorrect. These errors typically happen during initial project setup but are less common once your project is properly configured."}),"\n",(0,r.jsx)(n.h2,{id:"common-symptoms",children:"Common Symptoms"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connection failures"}),"\n",(0,r.jsx)(n.li,{children:"Profile not found errors"}),"\n",(0,r.jsx)(n.li,{children:"Project configuration errors"}),"\n",(0,r.jsx)(n.li,{children:"Permission denied messages"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"solution-steps",children:"Solution Steps"}),"\n",(0,r.jsx)(n.h3,{id:"run-dbt-debug",children:"Run dbt Debug"}),"\n",(0,r.jsx)(n.p,{children:"The first step should always be running the debug command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dbt debug\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will check for common project issues including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Project file structure"}),"\n",(0,r.jsx)(n.li,{children:"Database connection"}),"\n",(0,r.jsx)(n.li,{children:"Profile configuration"}),"\n",(0,r.jsx)(n.li,{children:"Dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"verify-project-location",children:"Verify Project Location"}),"\n",(0,r.jsx)(n.p,{children:"Ensure you're in the correct project directory:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check that you're in the folder containing ",(0,r.jsx)(n.code,{children:"dbt_project.yml"})]}),"\n",(0,r.jsxs)(n.li,{children:["Confirm the project name in ",(0,r.jsx)(n.code,{children:"dbt_project.yml"})," matches your intended project"]}),"\n",(0,r.jsx)(n.li,{children:"Verify the directory structure follows dbt conventions"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"check-profiles-configuration",children:"Check Profiles Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Review your ",(0,r.jsx)(n.code,{children:"profiles.yml"})," file and check your Datacoves Database connection settings in the User Settings screen:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Confirm the profile name at the top of the file matches what's referenced in ",(0,r.jsx)(n.code,{children:"dbt_project.yml"})]}),"\n",(0,r.jsxs)(n.li,{children:["Verify all required fields are present:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connection credentials"}),"\n",(0,r.jsx)(n.li,{children:"Schema settings"}),"\n",(0,r.jsx)(n.li,{children:"Warehouse configurations (if applicable)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Note: the default target for dbt is ",(0,r.jsx)(n.code,{children:"dev"})," so make sure you set the Datacoves Database Connection name to ",(0,r.jsx)(n.code,{children:"dev"})," as well as this will create the appropriate dbt target. You may create additional targets by creating additional Datacoves Database Connections."]}),"\n",(0,r.jsx)(n.h3,{id:"verify-database-permissions",children:"Verify Database Permissions"}),"\n",(0,r.jsx)(n.p,{children:"Confirm your database user has the necessary permissions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check user privileges for:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Schema creation (if not using a custom security model that does not allow this)"}),"\n",(0,r.jsx)(n.li,{children:"Table creation and modification"}),"\n",(0,r.jsx)(n.li,{children:"View creation"}),"\n",(0,r.jsx)(n.li,{children:"Warehouse usage (for Snowflake)"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Test direct database connection using your SQL client or the Snowflake Extension in Datacoves"}),"\n",(0,r.jsx)(n.li,{children:"Verify network access such as the need to whitelist the Datacoves IP, if required"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"clear-dbt-cache-and-packages",children:"Clear dbt Cache and Packages"}),"\n",(0,r.jsx)(n.p,{children:"Sometimes clearing the dbt cache can resolve mysterious runtime issues:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"dbt clean"}),", which will remove the ",(0,r.jsx)(n.code,{children:"target/"})," and ",(0,r.jsx)(n.code,{children:"dbt_packages/"})," directories, then reinstall packages."]}),"\n",(0,r.jsxs)(n.li,{children:["Reinstall packages with ",(0,r.jsx)(n.code,{children:"dbt deps"})]}),"\n",(0,r.jsx)(n.li,{children:"Retry the command that showed the error"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"handle-package-installation-issues",children:"Handle Package Installation Issues"}),"\n",(0,r.jsx)(n.p,{children:"If you're having problems installing dbt packages:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check package versioning:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'packages:\n  - package: dbt-labs/dbt_utils\n    version: [">=0.9.0", "<0.10.0"]  # Specify version range or a specific version\n'})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Verify package compatibility with the dbt version you are using"}),"\n",(0,r.jsx)(n.li,{children:"Look for conflicting package dependencies"}),"\n",(0,r.jsxs)(n.li,{children:["Remove and reinstall packages to resolve potential conflicts.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dbt clean\ndbt deps\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-error-messages",children:"Common Error Messages"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Error Message"}),(0,r.jsx)(n.th,{children:"Likely Cause"}),(0,r.jsx)(n.th,{children:"Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Profile not found"})}),(0,r.jsx)(n.td,{children:"Incorrect profile configuration"}),(0,r.jsx)(n.td,{children:"Check profiles.yml location and name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Could not connect to database"})}),(0,r.jsx)(n.td,{children:"Connection issues"}),(0,r.jsx)(n.td,{children:"Verify credentials and network access"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Permission denied"})}),(0,r.jsx)(n.td,{children:"Insufficient privileges"}),(0,r.jsx)(n.td,{children:"Review and update user permissions in the database"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Package not found"})}),(0,r.jsx)(n.td,{children:"Package installation issues"}),(0,r.jsx)(n.td,{children:"Check package.yml and run dbt deps"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"cicd-environment-issues",children:"CI/CD Environment Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure secrets are properly configured"}),"\n",(0,r.jsx)(n.li,{children:"Verify service account permissions"}),"\n",(0,r.jsx)(n.li,{children:"Confirm CI/CD configuration"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"If you're still experiencing issues after following these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Review the full execution steps with ",(0,r.jsx)(n.code,{children:"--debug"})," flag"]}),"\n",(0,r.jsxs)(n.li,{children:["Check dbt project logs in the ",(0,r.jsx)(n.code,{children:"logs/"})," directory"]}),"\n",(0,r.jsx)(n.li,{children:"Verify your dbt version is compatible with your packages"}),"\n",(0,r.jsx)(n.li,{children:"Consult your database-specific documentation for connection requirements"}),"\n",(0,r.jsx)(n.li,{children:"Search the dbt Core GitHub issues for similar problems"}),"\n",(0,r.jsx)(n.li,{children:"Consider posting in the dbt Slack community"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"prevention-tips",children:"Prevention Tips"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Use version control for all project files"}),"\n",(0,r.jsx)(n.li,{children:"Maintain a development environment that mirrors production"}),"\n",(0,r.jsx)(n.li,{children:"Document environment-specific configurations"}),"\n",(0,r.jsx)(n.li,{children:"Set up data testing for critical models and fields"}),"\n",(0,r.jsx)(n.li,{children:"Keep dbt and all packages updated"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);