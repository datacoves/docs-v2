"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1989],{10283:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"how-tos/airflow/external-python-dag","title":"DAGs - Calling External Python Scripts","description":"If you need additional libraries for your DAG such as pandas, let us know so that we can configure them in your environment.","source":"@site/docs/how-tos/airflow/external-python-dag.md","sourceDirName":"how-tos/airflow","slug":"/how-tos/airflow/external-python-dag","permalink":"/docusaurus-test/docs/how-tos/airflow/external-python-dag","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/how-tos/airflow/external-python-dag.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"title":"DAGs - Calling External Python Scripts","sidebar_position":21},"sidebar":"tutorialSidebar","previous":{"title":"DAGs - Add Dag Documentation","permalink":"/docusaurus-test/docs/how-tos/airflow/create-dag-level-docs"},"next":{"title":"DAGs - Dynamically Set Schedule","permalink":"/docusaurus-test/docs/how-tos/airflow/dynamically-set-schedule"}}');var o=n(74848),s=n(28453);const r={title:"DAGs - Calling External Python Scripts",sidebar_position:21},i="External Python DAG",c={},d=[{value:"orchestrate/python_scripts",id:"orchestratepython_scripts",level:2},{value:"orchestrate/dags",id:"orchestratedags",level:2}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"external-python-dag",children:"External Python DAG"})}),"\n",(0,o.jsx)(t.p,{children:"If you need additional libraries for your DAG such as pandas, let us know so that we can configure them in your environment."}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["[!NOTE]Below we make use of a ",(0,o.jsx)(t.code,{children:"python_scripts"})," folder inside the ",(0,o.jsx)(t.code,{children:"orchestrate"})," folder and develop as a best practice we locate our custom scripts in this location."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"orchestratepython_scripts",children:"orchestrate/python_scripts"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:"#sample_script.py\n\nimport pandas as pd\n\ndef print_sample_dataframe():\n\n    # Creating a simple DataFrame\n    data = {'Name': ['Alice', 'Bob', 'Charlie'],\n            'Age': [25, 30, 35],\n            'City': ['New York', 'San Francisco', 'Los Angeles']}\n\n    df = pd.DataFrame(data)\n\n    # Displaying the DataFrame\n    print(\"DataFrame created using Pandas:\")\n    print(df)\n\nprint_sample_dataframe()\n"})}),"\n",(0,o.jsx)(t.h2,{id:"orchestratedags",children:"orchestrate/dags"}),"\n",(0,o.jsxs)(t.p,{children:["Create a DAG in the ",(0,o.jsx)(t.code,{children:"dags"})," folder."]}),"\n",(0,o.jsxs)(t.p,{children:["To run the custom script from an Airflow DAG, you will use the ",(0,o.jsx)(t.code,{children:"@task.datacoves_bash"})," decorator as seen in the ",(0,o.jsx)(t.code,{children:"python_task"})," below."]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["[!TIP]See ",(0,o.jsx)(t.a,{href:"/docusaurus-test/docs/reference/airflow/datacoves-decorators",children:"Datacoves Decorators"})," documentation for more information on the Datacoves Airflow Decorators."]}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'from airflow.decorators import dag, task\nfrom pendulum import datetime\n\n@dag(\n    default_args={\n        "start_date": datetime(2022, 10, 10),\n        "owner": "Noel Gomez",\n        "email": "gomezn@example.com",\n        "email_on_failure": True,\n    },\n    catchup=False,\n    tags=["version_6"],\n    description="Datacoves Sample DAG",\n    schedule="0 0 1 */12 *",\n)\ndef datacoves_sample_dag():\n    \n    @task.datacoves_bash()\n    def run_python_script():\n        return "python orchestrate/python_scripts/sample_script.py"\n\n    run_python_script()\n\ndatacoves_sample_dag()\n'})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var a=n(96540);const o={},s=a.createContext(o);function r(e){const t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);